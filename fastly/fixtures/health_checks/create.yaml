---
version: 1
interactions:
- request:
    body: check_interval=2500&expected_response=200&host=example.com&http_version=1.1&initial=10&method=HEAD&name=test-healthcheck&path=%2Ffoo&threshold=10&timeout=1500&window=5000&headers=%5B"Foo:Bar","Baz:Qux"%5D
    form:
      check_interval:
      - "2500"
      expected_response:
      - "200"
      headers:
      - '["Foo:Bar","Baz:Qux"]'
      host:
      - example.com
      http_version:
      - "1.1"
      initial:
      - "10"
      method:
      - HEAD
      name:
      - test-healthcheck
      path:
      - /foo
      threshold:
      - "10"
      timeout:
      - "1500"
      window:
      - "5000"
    headers:
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - FastlyGo/11.3.0 (+github.com/fastly/go-fastly; go1.24.2)
    url: https://api.fastly.com/service/kKJb5bOFI47uHeBVluGfX1/version/135/healthcheck
    method: POST
  response:
    body: '{"check_interval":2500,"expected_response":200,"host":"example.com","http_version":"1.1","initial":10,"method":"HEAD","name":"test-healthcheck","path":"/foo","threshold":10,"timeout":1500,"window":5000,"headers":["Baz:
      Qux","Foo: Bar"],"service_id":"kKJb5bOFI47uHeBVluGfX1","version":135,"created_at":"2025-08-29T19:24:32Z","updated_at":"2025-08-29T19:24:32Z","comment":"","deleted_at":null}'
    headers:
      Accept-Ranges:
      - bytes
      Cache-Control:
      - no-store
      Content-Type:
      - application/json
      Date:
      - Fri, 29 Aug 2025 19:24:32 GMT
      Fastly-Ratelimit-Remaining:
      - "9994"
      Fastly-Ratelimit-Reset:
      - "1756497600"
      Pragma:
      - no-cache
      Server:
      - fastly
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 varnish, 1.1 varnish
      X-Cache:
      - MISS, MISS
      X-Cache-Hits:
      - 0, 0
      X-Served-By:
      - cache-chi-klot8100167-CHI, cache-ewr-kewr1740064-EWR
      X-Timer:
      - S1756495473.712722,VS0,VE199
    status: 200 OK
    code: 200
    duration: ""
